import 'package:flutter/material.dart';
import 'package:http/http.dart' as http;
import 'dart:async';
import 'dart:convert' as JSON;

void main(){
runApp(new MaterialApp(
		title: "Indra Lady Saraswati | 16.1.03.02.0013",
		home: new Home(),
		));
	}

class Home extends StatefulWidget {
	@override
	_HomeState createState() => new _HomeState();
}

class _HomeState extends State<Home> {
	List dataJSON;
	
	Future<String> ambildata() async {
		http.Response hasil = await http.get(
			Uri.encodeFull("http://jsonplaceholder.typicode.com/posts"), headers: {
				"Accept" :  "application/json"
			}
    );
		this.setState((){
			dataJSON = JSON.jsonDecode(hasil.body);
		});
		}
		
@override
		void initState() {
			this.ambildata();
		}

		@override
		Widget build(BuildContext context) {
			return new Scaffold(
				appBar: new AppBar(
					title: new Text ("Indra Lady Saraswati\n16.1.03.02.0013"),
				),
				body: new ListView.builder(
					itemCount: dataJSON == null ? 0 : dataJSON.length,
						itemBuilder: (context,i) {
							return new Card(
								child: new Column(
									children: <Widget>[
										new Text(dataJSON[i]['title'],
									style: new TextStyle(fontSize: 20.0, color: Colors.blue),
									),
									new Text(dataJSON[i]['body'])
									],
								),
							);
						},
					),
				);
			}
		}
